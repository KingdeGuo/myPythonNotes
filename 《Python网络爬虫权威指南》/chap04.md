[toc]

# 网络爬虫模型

- 网页爬取过程中的一个常见陷阱，就是完全基于眼前可控的内容定义自己希望抓取的数据。
- 当决定抓取数据时，最好的做法是忽视所有网站。不是首先看“存在什么”，而是问自己，“我需要什么”，然后想办法从中寻找所需信息。
- 对你考虑的每一项都做一个清单检查，然后问自己以下几个问题。
  - 这个信息可以帮助项目实现目标吗？如果我不包括该信息，是否会造成阻碍?还是说该信息有了固然好，但是并不会影响任何结果?
  - 如果该信息将来可能有帮助，但是我并不确定，那么晚些时候再抓取会有多大的困难?
  - 这个数据对于我已经抓取的信息来说是否冗余?
  - 将数据存储在这个对象中是否符合逻辑? (正如前面提到的，如果同一产品在不同网站上的描述不一致的话， 那么存储该产品的描述信息就没有意义。
- 如果你确定需要抓取该数据，那么就要问自己以下问题，然后确定如何在代码中存储并处理这些数据。
  - 该数据是稀疏的还是密集的?它与每个清单都相关并且会出现在其中，还是只与部分清单相关?
  - 该数据有多大?
  - 在数据较大的情况下，我每次运行分析时都需要检索该数据，还是只是偶尔需要使用该数据?
  - 这种类型的数据有多大的变化性?我需要经常加入新的属性、修改类型(例如面料样式可能是经常修改的属性)吗?还是说该数据一直保持不变 (鞋的码数) ?
- 当抓取来自多个源或者多个域的相似数据时，你的目标应该总是将其规范化。处理带有相同和可比较的字段的数据，总是比处理完全依赖于其源格式的数据容易得多。
- 在很多情况下，构建爬虫时应该假定未来会加入更多的数据源，目标是减少加入这些新数据源所带来的开销。即使某个网站乍看起来并不适用于你的模型，但也可能会有一些细节证明它确实是适用的。从长远看，能够识别潜藏的模式可以为你节约时间、金钱，也能避免很多烦恼。